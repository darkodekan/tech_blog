{% extends "_layout.html" %}

{% block body %}
    <h3>Posts</h3>
     <form method="get">
        {{ form.query }}
        <input class="btn btn-light" type="submit" value="Search">
    </form>
    <hr>
    {% for post in posts %}
        <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <h3 class="mb-0">{{ post.title }}</h3>
          <div class="mb-1 text-muted">{{ post.created_on }}</div>
          <p class="card-text mb-auto">{{ post.snippet }}</p>
          <a href="{%  url 'blog:post_detail' post.slug %}" class="stretched-link">Continue reading</a>
        </div>
        <div class="col-auto d-none d-lg-block">
            <img src="{{ post.thumbnail.url }}" width="200" height="250">
        </div>
      </div>


    {% endfor %}
    {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">Next</a>
                {% endif %}
            </span>
        </div>
    {% endif %}


{% endblock %}